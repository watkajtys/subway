<div class="container">
  <div class="header">
    <h1>Departures</h1>
    <div class="clock">{{ state.time() | date:'shortTime' }}</div>
  </div>
  <div class="boards-container">
    <div class="board">
      <h2>Northbound</h2>
      <div *ngIf="arrivalsByDirection().northbound.length > 0; else loadingNorth">
        <div class="arrival-row header-row">
          <span class="route">Route</span>
          <span class="destination">Destination</span>
          <span class="track">Track</span>
          <span class="status">Status</span>
          <span class="time">Arrives</span>
        </div>
        <div *ngFor="let arrival of arrivalsByDirection().northbound; trackBy: trackByTripId" class="arrival-row">
          <app-route-badge [routeId]="arrival.routeId"></app-route-badge>
          <span class="destination">{{ arrival.routeId | destination:'N' }}</span>
          <span class="track">{{ arrival.track ?? 'N/A' }}</span>
          <span class="status">{{ arrival.status }}</span>
          <span
            class="time"
            [ngClass]="getTimeClass(arrival.arrivalTime)"
          >{{ arrival.arrivalTime ? (arrival.arrivalTime | arrivalTime) : 'N/A' }}</span>
        </div>
      </div>
      <ng-template #loadingNorth>
        <p>Loading...</p>
      </ng-template>
    </div>
    <div class="board">
      <h2>Southbound</h2>
      <div *ngIf="arrivalsByDirection().southbound.length > 0; else loadingSouth">
        <div class="arrival-row header-row">
          <span class="route">Route</span>
          <span class="destination">Destination</span>
          <span class="track">Track</span>
          <span class="status">Status</span>
          <span class="time">Arrives</span>
        </div>
        <div *ngFor="let arrival of arrivalsByDirection().southbound; trackBy: trackByTripId" class="arrival-row">
          <app-route-badge [routeId]="arrival.routeId"></app-route-badge>
          <span class="destination">{{ arrival.routeId | destination:'S' }}</span>
          <span class="track">{{ arrival.track ?? 'N/A' }}</span>
          <span class="status">{{ arrival.status }}</span>
          <span
            class="time"
            [ngClass]="getTimeClass(arrival.arrivalTime)"
          >{{ arrival.arrivalTime ? (arrival.arrivalTime | arrivalTime) : 'N/A' }}</span>
        </div>
      </div>
      <ng-template #loadingSouth>
        <p>Loading...</p>
      </ng-template>
    </div>
  </div>
</div>
