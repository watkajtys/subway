<div class="container">
  <div class="header">
    <div class="station-selector">
      <label for="station">Station</label>
      <select id="station" [value]="state.selectedStation()" (change)="onStationChange($event)">
        <option *ngFor="let station of stations" [value]="station.name">
          {{ station.name }}
        </option>
      </select>
    </div>
    <div class="clock">{{ state.time() | date:'shortTime' }}</div>
  </div>
  <div class="boards-container">
    <div class="board">
      <h2>Northbound</h2>
      <div *ngIf="arrivalsByDirection().northbound.length > 0; else loadingNorth">
        <div class="arrival-row header-row">
          <span class="route">Route</span>
          <span class="destination">Destination</span>
          <span class="time">Arrives</span>
        </div>
        <a *ngFor="let arrival of arrivalsByDirection().northbound; trackBy: trackByTripId" class="arrival-row" [routerLink]="['/trip', arrival.tripId]">
          <app-route-badge [routeId]="arrival.routeId"></app-route-badge>
          <span class="destination">{{ arrival.routeId | destination:'N' }}</span>
          <span
            class="time"
            [ngClass]="getTimeClass(arrival.arrivalTime)"
          >{{ arrival.arrivalTime ? (arrival.arrivalTime | arrivalTime) : 'N/A' }}</span>
        </a>
      </div>
      <ng-template #loadingNorth>
        <p>Loading...</p>
      </ng-template>
    </div>
    <div class="board">
      <h2>Southbound</h2>
      <div *ngIf="arrivalsByDirection().southbound.length > 0; else loadingSouth">
        <div class="arrival-row header-row">
          <span class="route">Route</span>
          <span class="destination">Destination</span>
          <span class="time">Arrives</span>
        </div>
        <a *ngFor="let arrival of arrivalsByDirection().southbound; trackBy: trackByTripId" class="arrival-row" [routerLink]="['/trip', arrival.tripId]">
          <app-route-badge [routeId]="arrival.routeId"></app-route-badge>
          <span class="destination">{{ arrival.routeId | destination:'S' }}</span>
          <span
            class="time"
            [ngClass]="getTimeClass(arrival.arrivalTime)"
          >{{ arrival.arrivalTime ? (arrival.arrivalTime | arrivalTime) : 'N/A' }}</span>
        </a>
      </div>
      <ng-template #loadingSouth>
        <p>Loading...</p>
      </ng-template>
    </div>
  </div>
</div>
